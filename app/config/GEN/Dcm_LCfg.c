/*
* Configuration of module: Dcm
*
* Created by:   parai          
* Copyright:    (C)parai@foxmail.com  
*
* Configured for (MCU):    MinGW ...
*
* Module vendor:           ArcCore
* Generator version:       2.0.34
*
* Generated by easySAR Studio (https://github.com/parai/OpenSAR)
*/

#include "Std_Types.h"
#include "Dcm.h"
#include "Dcm_Internal.h"
#include "PduR.h"

#define DCM_SECURITY_EOL_INDEX 3
#define DCM_SESSION_EOL_INDEX  3
#define DCM_DID_LIST_EOL_INDEX 1


static const Dcm_DspSecurityRowType DspSecurityList[] = {
    { // Default Security Level, that is for each session
        .DspSecurityLevel =  0,
        .DspSecurityDelayTimeOnBoot =  0,//Value is not configurable
        .DspSecurityNumAttDelay =  0,     //Value is not configurable
        .DspSecurityDelayTime =  0,     //Value is not configurable
        .DspSecurityNumAttLock =  0,     //Value is not configurable
        .DspSecurityADRSize =  0,
        .DspSecuritySeedSize =  4,
        .DspSecurityKeySize =  4,
        .GetSeed =  NULL,    // as each session entered, it is already in this level, cause send NRC
        .CompareKey =  NULL,
        .Arc_EOL =  FALSE
    },

    { // PRGS, 
        .DspSecurityLevel =  10,
        .DspSecurityDelayTimeOnBoot =  0,//Value is not configurable
        .DspSecurityNumAttDelay =  0,    //Value is not configurable
        .DspSecurityDelayTime =  0,      //Value is not configurable
        .DspSecurityNumAttLock =  0,     //Value is not configurable
        .DspSecurityADRSize =  0,
        .DspSecuritySeedSize =  4,
        .DspSecurityKeySize =  4,
        .GetSeed =  fGetSeed(PRGS),
        .CompareKey =  fCompareKey(PRGS),
        .Arc_EOL =  FALSE
    },

    { // EXTDS, 
        .DspSecurityLevel =  15,
        .DspSecurityDelayTimeOnBoot =  0,//Value is not configurable
        .DspSecurityNumAttDelay =  0,    //Value is not configurable
        .DspSecurityDelayTime =  0,      //Value is not configurable
        .DspSecurityNumAttLock =  0,     //Value is not configurable
        .DspSecurityADRSize =  0,
        .DspSecuritySeedSize =  4,
        .DspSecurityKeySize =  4,
        .GetSeed =  fGetSeed(EXTDS),
        .CompareKey =  fCompareKey(EXTDS),
        .Arc_EOL =  FALSE
    },

    {
        .Arc_EOL =  TRUE
    }
};

static const Dcm_DspSecurityType DspSecurity = {
    .DspSecurityRow =  DspSecurityList
};


static const Dcm_DspSessionRowType DspSessionList[] = {

    { // DS
        .DspSessionLevel =  1,
        .DspSessionP2ServerMax =  5000,
        .DspSessionP2StarServerMax =  5000,
        .Arc_EOL =  FALSE
    },

    { // PRGS
        .DspSessionLevel =  2,
        .DspSessionP2ServerMax =  5000,
        .DspSessionP2StarServerMax =  5000,
        .Arc_EOL =  FALSE
    },

    { // EXTDS
        .DspSessionLevel =  3,
        .DspSessionP2ServerMax =  5000,
        .DspSessionP2StarServerMax =  5000,
        .Arc_EOL =  FALSE
    },

    {
        .Arc_EOL =  TRUE
    },
};

static const Dcm_DspSessionType DspSession = {
    .DspSessionRow =  DspSessionList,
};
//************************************************************************
//*                       Data Identifier                                *
//************************************************************************
static const Dcm_DspSessionRowType* FingerPrint_DID_sessionRefList[]=
{
	&DspSessionList[1],//Ses_PRGS,
	&DspSessionList[DCM_SESSION_EOL_INDEX]
};
static const Dcm_DspSecurityRowType* FingerPrint_DID_securityRefList[]=
{
	&DspSecurityList[1],//Sec_PRGS,
	&DspSecurityList[DCM_SECURITY_EOL_INDEX]
};

static const Dcm_DspDidReadType FingerPrint_didAccess = {
    .DspDidReadSessionRef =  FingerPrint_DID_sessionRefList,
    .DspDidReadSecurityLevelRef =  FingerPrint_DID_securityRefList
};

static const Dcm_DspDidInfoType DspDidInfoList[] = {
    
    {    
         .DspDidDynamicllyDefined =  FALSE,
         .DspDidFixedLength =  FALSE, // for easy implementation, all DID length is dynamic.
         .DspDidScalingInfoSize =  (uint8)0xdead,
         .DspDidAccess.DspDidRead  =&FingerPrint_didAccess,
         .DspDidAccess.DspDidWrite = (Dcm_DspDidWriteType*)&FingerPrint_didAccess, // for easy implementation, use the same one as read
         .DspDidAccess.DspDidControl = NULL,
    },

};
extern const Dcm_DspDidType DspDidList[];
const Dcm_DspDidType* TODO_RWDID_RefList[] =
{
    &DspDidList[DCM_DID_LIST_EOL_INDEX]  //add did ref by hand please,If you need it
};


const Dcm_DspDidType DspDidList[] = { 

    { // RWDID,rw,Flash loader finger print.
        .DspDidUsePort =  FALSE,//.Value is not configurable
        .DspDidIdentifier =  0xFD01,   
        .DspDidInfoRef =  &DspDidInfoList[0],
        .DspDidRef =  TODO_RWDID_RefList,    // TODO:
        .DspDidSize = 0xdead,
        .DspDidReadDataLengthFnc =  fDidGetDataLength(FingerPrint),
        .DspDidConditionCheckReadFnc =  fDidConditionReadCheck(FingerPrint),
        .DspDidReadDataFnc =  fDidReadData(FingerPrint),
        .DspDidConditionCheckWriteFnc =  fDidConditionCheckWrite(FingerPrint),
        .DspDidWriteDataFnc =  fDidWriteData(FingerPrint),
        .DspDidGetScalingInfoFnc =  NULL,
        .DspDidFreezeCurrentStateFnc =  NULL,
        .DspDidResetToDefaultFnc =  NULL,
        .DspDidReturnControlToEcuFnc =  NULL,
        .DspDidShortTermAdjustmentFnc =  NULL,
        .DspDidControlRecordSize =  NULL,
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL =  TRUE
    }
};

//************************************************************************
//*                       Routine control                                *
//************************************************************************
static const Dcm_DspSessionRowType* FLErase_RC_sessionRefList[]=
{
	&DspSessionList[1],//Ses_PRGS,
	&DspSessionList[DCM_SESSION_EOL_INDEX]
};
static const Dcm_DspSessionRowType* FLCheckProgrmIntegrity_RC_sessionRefList[]=
{
	&DspSessionList[1],//Ses_PRGS,
	&DspSessionList[DCM_SESSION_EOL_INDEX]
};
static const Dcm_DspSecurityRowType* FLErase_RC_securityRefList[]=
{
	&DspSecurityList[1],//Sec_PRGS,
	&DspSecurityList[DCM_SECURITY_EOL_INDEX]
};
static const Dcm_DspSecurityRowType* FLCheckProgrmIntegrity_RC_securityRefList[]=
{
	&DspSecurityList[1],//Sec_PRGS,
	&DspSecurityList[DCM_SECURITY_EOL_INDEX]
};

static const Dcm_DspStartRoutineType FLErase_Start_Size = {
    .DspStartRoutineCtrlOptRecSize = 1,
    .DspStartRoutineStsOptRecSize = 1,
};

static const Dcm_DspRoutineRequestResType FLErase_Result_Size = {
    .DspReqResRtnCtrlOptRecSize = 1,
};

static const Dcm_DspStartRoutineType FLCheckProgrmIntegrity_Start_Size = {
    .DspStartRoutineCtrlOptRecSize = 1,
    .DspStartRoutineStsOptRecSize = 1,
};

static const Dcm_DspRoutineRequestResType FLCheckProgrmIntegrity_Result_Size = {
    .DspReqResRtnCtrlOptRecSize = 4,
};

static const Dcm_DspRoutineInfoType DspRoutineInfoList[] = {

    { // FLErase
         .DspRoutineAuthorization.DspRoutineSessionRef =  FLErase_RC_sessionRefList,
         .DspRoutineAuthorization.DspRoutineSecurityLevelRef =  FLErase_RC_securityRefList,
         .DspStartRoutine =  &FLErase_Start_Size,
         .DspRoutineStop =  NULL,
         .DspRoutineRequestRes =  &FLErase_Result_Size,
    },

    { // FLCheckProgrmIntegrity
         .DspRoutineAuthorization.DspRoutineSessionRef =  FLCheckProgrmIntegrity_RC_sessionRefList,
         .DspRoutineAuthorization.DspRoutineSecurityLevelRef =  FLCheckProgrmIntegrity_RC_securityRefList,
         .DspStartRoutine =  &FLCheckProgrmIntegrity_Start_Size,
         .DspRoutineStop =  NULL,
         .DspRoutineRequestRes =  &FLCheckProgrmIntegrity_Result_Size,
    },

};


static const Dcm_DspRoutineType  DspRoutineList[] = {

    { //FLErase,Erase Flash Sectors
         .DspRoutineUsePort =  FALSE,
         .DspRoutineIdentifier =  0xFC01,
         .DspRoutineInfoRef =  &DspRoutineInfoList[0],
         .DspStartRoutineFnc =  fStartRoutine(FLErase),
         .DspStopRoutineFnc =  fStopRoutine(FLErase),
         .DspRequestResultRoutineFnc =  fRequestResultRoutine(FLErase),
         .Arc_EOL = FALSE
    },

    { //FLCheckProgrmIntegrity,Check the download program is integrity OK or not, return Sts is the Crc32 check sum
         .DspRoutineUsePort =  FALSE,
         .DspRoutineIdentifier =  0xFC05,
         .DspRoutineInfoRef =  &DspRoutineInfoList[1],
         .DspStartRoutineFnc =  fStartRoutine(FLCheckProgrmIntegrity),
         .DspStopRoutineFnc =  fStopRoutine(FLCheckProgrmIntegrity),
         .DspRequestResultRoutineFnc =  fRequestResultRoutine(FLCheckProgrmIntegrity),
         .Arc_EOL = FALSE
    },

    {
         .Arc_EOL = TRUE
    }
};


//************************************************************************
//*                            Memory Info                                 *
//***********************************************************************

const Dcm_DspType Dsp = {
    .DspMaxDidToRead =  (uint8)0xdead, // TODO: what does it mean?
    .DspDid =  DspDidList,
    .DspDidInfo =  DspDidInfoList,
    .DspEcuReset =  NULL,
    .DspPid =  NULL,
    .DspReadDTC =  NULL,
    .DspRequestControl =  NULL,
    .DspRoutine =  DspRoutineList,
    .DspRoutineInfo =  DspRoutineInfoList,
    .DspSecurity =  &DspSecurity,
    .DspSession =  &DspSession,
    .DspTestResultByObdmid =  NULL,
    .DspVehInfo =  NULL
};

static const Dcm_DspSessionRowType* EcuReset_SessionList[]=
{
	&DspSessionList[1],//Ses_PRGS,
	&DspSessionList[2],//Ses_EXTDS,
	&DspSessionList[DCM_SESSION_EOL_INDEX]
};
static const Dcm_DspSecurityRowType* EcuReset_SecurityList[]=
{
	&DspSecurityList[1],//Sec_PRGS,
	&DspSecurityList[2],//Sec_EXTDS,
	&DspSecurityList[DCM_SECURITY_EOL_INDEX]
};
static const Dcm_DspSessionRowType* CommunicationControl_SessionList[]=
{
	&DspSessionList[1],//Ses_PRGS,
	&DspSessionList[2],//Ses_EXTDS,
	&DspSessionList[DCM_SESSION_EOL_INDEX]
};
static const Dcm_DspSecurityRowType* CommunicationControl_SecurityList[]=
{
	&DspSecurityList[1],//Sec_PRGS,
	&DspSecurityList[2],//Sec_EXTDS,
	&DspSecurityList[DCM_SECURITY_EOL_INDEX]
};

//************************************************************************
//*                                    DSD                                    *
//***********************************************************************

const Dcm_DsdServiceType DIAG_P2PorP2A_serviceList[] = {
    {
         .DsdSidTabServiceId = SID_DIAGNOSTIC_SESSION_CONTROL,
         .DsdSidTabSubfuncAvail = TRUE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    {
         .DsdSidTabServiceId = SID_SECURITY_ACCESS,
         .DsdSidTabSubfuncAvail = TRUE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    {
         .DsdSidTabServiceId = SID_READ_DATA_BY_IDENTIFIER,
         .DsdSidTabSubfuncAvail = FALSE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    {
         .DsdSidTabServiceId = SID_WRITE_DATA_BY_IDENTIFIER,
         .DsdSidTabSubfuncAvail = FALSE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    {
         .DsdSidTabServiceId = SID_ROUTINE_CONTROL,
         .DsdSidTabSubfuncAvail = TRUE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    {
         .DsdSidTabServiceId = SID_READ_SCALING_DATA_BY_IDENTIFIER,
         .DsdSidTabSubfuncAvail = FALSE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    { 
         .DsdSidTabServiceId = SID_TESTER_PRESENT,
         .DsdSidTabSubfuncAvail = TRUE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    { 
         .DsdSidTabServiceId = SID_ECU_RESET,
         .DsdSidTabSubfuncAvail = TRUE,
         .DsdSidTabSecurityLevelRef = EcuReset_SecurityList,
         .DsdSidTabSessionLevelRef  = EcuReset_SessionList,
         .Arc_EOL =  FALSE
    },
    { 
         .DsdSidTabServiceId = SID_DYNAMICALLY_DEFINE_DATA_IDENTIFIER,
         .DsdSidTabSubfuncAvail = TRUE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    { 
         .DsdSidTabServiceId = SID_READ_DATA_BY_PERIODIC_IDENTIFIER,
         .DsdSidTabSubfuncAvail = FALSE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    {
         .DsdSidTabServiceId = SID_INPUT_OUTPUT_CONTROL_BY_IDENTIFIER,
         .DsdSidTabSubfuncAvail = TRUE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    { 
         .DsdSidTabServiceId = SID_READ_MEMORY_BY_ADDRESS,
         .DsdSidTabSubfuncAvail = FALSE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef  = NULL,
         .Arc_EOL =  FALSE
    },
    { 
         .DsdSidTabServiceId = SID_WRITE_MEMORY_BY_ADDRESS,
         .DsdSidTabSubfuncAvail = FALSE,
         .DsdSidTabSecurityLevelRef = NULL,
         .DsdSidTabSessionLevelRef = NULL,
         .Arc_EOL =  FALSE
    },    
    { 
         .DsdSidTabServiceId = SID_COMMUNICATION_CONTROL,
         .DsdSidTabSubfuncAvail = FALSE,
         .DsdSidTabSecurityLevelRef = CommunicationControl_SecurityList,
         .DsdSidTabSessionLevelRef = CommunicationControl_SessionList,
         .Arc_EOL =  FALSE
    },
    {
         .Arc_EOL =  TRUE
    }
};

const Dcm_DsdServiceTableType DsdServiceTable[] = {    
    {
         .DsdSidTabId =  0,
         .DsdService =  DIAG_P2PorP2A_serviceList,
         .Arc_EOL =  FALSE
    },
    {
         .Arc_EOL =  TRUE
    }
};

const Dcm_DsdType Dsd = {
    .DsdServiceTable =  DsdServiceTable
};    
    

//************************************************************************
//*                                    DSL                                    *
//***********************************************************************

static uint8 rxDcmBuffer_DiagP2P[512];
static Dcm_DslBufferRuntimeType rxBufferParams_DiagP2P =
{
    .status =  NOT_IN_USE
};
static uint8 txDcmBuffer_DiagP2P[512];
static Dcm_DslBufferRuntimeType txBufferParams_DiagP2P =
{
    .status =  NOT_IN_USE
};
static uint8 rxDcmBuffer_DiagP2A[512];
static Dcm_DslBufferRuntimeType rxBufferParams_DiagP2A =
{
    .status =  NOT_IN_USE
};
static uint8 txDcmBuffer_DiagP2A[512];
static Dcm_DslBufferRuntimeType txBufferParams_DiagP2A =
{
    .status =  NOT_IN_USE
};
static const Dcm_DslBufferType DcmDslBufferList[DCM_DSL_BUFFER_LIST_LENGTH] = {
    {
        .DslBufferID =  0,    //? I am not that clear.
        .DslBufferSize =  512,//.?Value is not configurable
        .pduInfo.SduDataPtr =  rxDcmBuffer_DiagP2P,
        .pduInfo.SduLength =  512,
        .externalBufferRuntimeData =  &rxBufferParams_DiagP2P
    },
    {
        .DslBufferID =  1,//? I am not that clear.
        .DslBufferSize =  512,//.?Value is not configurable
        .pduInfo.SduDataPtr =  txDcmBuffer_DiagP2P,
        .pduInfo.SduLength =  512,
        .externalBufferRuntimeData =  &txBufferParams_DiagP2P
    },
    {
        .DslBufferID =  0,//? I am not that clear.
        .DslBufferSize =  512,//.?Value is not configurable
        .pduInfo.SduDataPtr =  rxDcmBuffer_DiagP2A,
        .pduInfo.SduLength =  512,
        .externalBufferRuntimeData =  &rxBufferParams_DiagP2A
    },
    {
        .DslBufferID =  1,//? I am not that clear.
        .DslBufferSize =  512,//.?Value is not configurable
        .pduInfo.SduDataPtr =  txDcmBuffer_DiagP2A,
        .pduInfo.SduLength =  512,
        .externalBufferRuntimeData =  &txBufferParams_DiagP2A
    }
};

static const Dcm_DslCallbackDCMRequestServiceType DCMRequestServiceList[] = {
    { // vRequestService_1
        .StartProtocol =  Diag_RequestServiceStart,  // must at least config one
        .StopProtocol =   Diag_RequestServiceStop,
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL =  TRUE
    }
};

static const Dcm_DslServiceRequestIndicationType DCMServiceRequestIndicationList[] = {
    {
        .Indication =  Diag_RequestServiceIndication, // can ignore this configure when turn DCM_REQUEST_INDICATION_ENABLED STD_OFF
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL =  TRUE
    }
};

extern const Dcm_DslMainConnectionType DslMainConnectionList[];

static const Dcm_DslProtocolRxType DcmDslProtocolRxList[] = {
    {
        .DslMainConnectionParent =  &DslMainConnectionList[DCM_DIAG_P2P_REQ],
        .DslProtocolAddrType =  DCM_PROTOCOL_PHYSICAL_ADDR_TYPE,
        .DcmDslProtocolRxPduId =  PDUR_DIAG_P2P_REQ,
        .DcmDslProtocolRxTesterSourceAddr_v4 =  0,        //.Value is not configurable
        .DcmDslProtocolRxChannelId_v4 =  0,                //.Value is not configurable
        .Arc_EOL =  FALSE
    },
    {
        .DslMainConnectionParent =  &DslMainConnectionList[DCM_DIAG_P2A_REQ],
        .DslProtocolAddrType =  DCM_PROTOCOL_PHYSICAL_ADDR_TYPE,
        .DcmDslProtocolRxPduId =  PDUR_DIAG_P2A_REQ,
        .DcmDslProtocolRxTesterSourceAddr_v4 =  0,        //.Value is not configurable
        .DcmDslProtocolRxChannelId_v4 =  0,                //.Value is not configurable
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL =  TRUE
    }
};

static const Dcm_DslProtocolTxType DcmDslProtocolTxList[] = {
    {
        .DslMainConnectionParent =  &DslMainConnectionList[DCM_DIAG_P2P_ACK],
        .DcmDslProtocolTxPduId =  PDUR_DIAG_P2P_ACK,
        .DcmDslProtocolDcmTxPduId = DCM_DIAG_P2P_ACK,
        .Arc_EOL =  FALSE
    },
    {
        .DslMainConnectionParent =  &DslMainConnectionList[DCM_DIAG_P2A_ACK],
        .DcmDslProtocolTxPduId =  PDUR_DIAG_P2A_ACK,
        .DcmDslProtocolDcmTxPduId = DCM_DIAG_P2A_ACK,
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL =  TRUE
    }
};

extern const Dcm_DslConnectionType DslConnectionList[];

const Dcm_DslMainConnectionType DslMainConnectionList[] = {
    {
        .DslConnectionParent =  &DslConnectionList[DCM_DIAG_P2P_REQ],
        .DslPeriodicTransmissionConRef =  NULL,        //.Value is not configurable
        .DslROEConnectionRef =  NULL,                //.Value is not configurable
        .DslProtocolRx =  NULL,                        //.Value is not configurable
        .DslProtocolTx =  &DcmDslProtocolTxList[DCM_DIAG_P2P_ACK],
    },
    {
        .DslConnectionParent =  &DslConnectionList[DCM_DIAG_P2A_REQ],
        .DslPeriodicTransmissionConRef =  NULL,        //.Value is not configurable
        .DslROEConnectionRef =  NULL,                //.Value is not configurable
        .DslProtocolRx =  NULL,                        //.Value is not configurable
        .DslProtocolTx =  &DcmDslProtocolTxList[DCM_DIAG_P2A_ACK],
    },
};

extern const Dcm_DslProtocolRowType DslProtocolRowList[];

const Dcm_DslConnectionType DslConnectionList[] = {
    {
        .DslProtocolRow =  &DslProtocolRowList[DCM_DIAG_P2P_REQ],
        .DslMainConnection =  &DslMainConnectionList[DCM_DIAG_P2P_REQ],
        .DslPeriodicTransmission =  NULL,    //.Value is not configurable
        .DslResponseOnEvent =  NULL,    //.Value is not configurable
        .Arc_EOL =  FALSE
    },
    {
        .DslProtocolRow =  &DslProtocolRowList[DCM_DIAG_P2A_REQ],
        .DslMainConnection =  &DslMainConnectionList[DCM_DIAG_P2A_REQ],
        .DslPeriodicTransmission =  NULL,    //.Value is not configurable
        .DslResponseOnEvent =  NULL,    //.Value is not configurable
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL =  TRUE
    }
};

extern const Dcm_DslProtocolTimingRowType ProtocolTimingList[];

Dcm_DslRunTimeProtocolParametersType dcmDslRuntimeVariables[2]; // for DIAG_P2P and DIAG_P2A
const Dcm_DslProtocolRowType DslProtocolRowList[]= {
    {
        .DslProtocolID =  DCM_UDS_ON_CAN,
        .DslProtocolIsParallelExecutab =  FALSE, // not supported
        .DslProtocolPreemptTimeout =  0,    // not supported
        .DslProtocolPriority =  0,    // not supported
        .DslProtocolTransType =  DCM_PROTOCOL_TRANS_TYPE_1,
        .DslProtocolRxBufferID =  &DcmDslBufferList[2*DCM_DIAG_P2P_REQ+0],
        .DslProtocolTxBufferID =  &DcmDslBufferList[2*DCM_DIAG_P2P_REQ+1],
        .DslProtocolSIDTable =  &DsdServiceTable[0],
        .DslProtocolTimeLimit =  &ProtocolTimingList[0],
        .DslConnection =  DslConnectionList,
        .DslRunTimeProtocolParameters =  &dcmDslRuntimeVariables[DCM_DIAG_P2P_REQ],
        .Arc_EOL =  FALSE
    },
    {
        .DslProtocolID =  DCM_UDS_ON_CAN,
        .DslProtocolIsParallelExecutab =  FALSE, // not supported
        .DslProtocolPreemptTimeout =  0,    // not supported
        .DslProtocolPriority =  0,    // not supported
        .DslProtocolTransType =  DCM_PROTOCOL_TRANS_TYPE_1,
        .DslProtocolRxBufferID =  &DcmDslBufferList[2*DCM_DIAG_P2A_REQ+0],
        .DslProtocolTxBufferID =  &DcmDslBufferList[2*DCM_DIAG_P2A_REQ+1],
        .DslProtocolSIDTable =  &DsdServiceTable[0],
        .DslProtocolTimeLimit =  &ProtocolTimingList[0],
        .DslConnection =  DslConnectionList,
        .DslRunTimeProtocolParameters =  &dcmDslRuntimeVariables[DCM_DIAG_P2A_REQ],
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL = TRUE
    }
};

const Dcm_DslProtocolType DslProtocol = {
    .DslProtocolRxGlobalList =  DcmDslProtocolRxList,
    .DslProtocolTxGlobalList =  DcmDslProtocolTxList,
    .DslProtocolRowList =  DslProtocolRowList
};

const Dcm_DslProtocolTimingRowType ProtocolTimingList[] = {
    {
        .TimStrP2ServerMax =  5000,        // ms
        .TimStrP2ServerMin =  3000,
        .TimStrP2StarServerMax =  0,        //.Value is not configurable
        .TimStrP2StarServerMin =  0,        //.Value is not configurable
        .TimStrS3Server =  5000,
        .Arc_EOL =  FALSE
    },
    {
        .Arc_EOL =  TRUE
    },
};

const Dcm_DslProtocolTimingType ProtocolTiming = {
    .DslProtocolTimingRow =  ProtocolTimingList
};

const Dcm_DslSessionControlType SessionControlList[] = {
    {
         .GetSesChgPermission =  Diag_GetSesChgPer,
         .ChangeIndication =  NULL,
         .ConfirmationRespPend =  NULL,
         .Arc_EOL =  FALSE
    },
    {
         .Arc_EOL =  TRUE
    }
};

const Dcm_DslDiagRespType DiagResp = {
    .DslDiagRespForceRespPendEn =  TRUE,
    .DslDiagRespMaxNumRespPend =  10
};

const Dcm_DslType Dsl = {
    .DslBuffer =  DcmDslBufferList,
    .DslCallbackDCMRequestService =  DCMRequestServiceList,
    .DslDiagResp =  &DiagResp,
    .DslProtocol =  &DslProtocol,
    .DslProtocolTiming =  &ProtocolTiming,
    .DslServiceRequestIndication =  DCMServiceRequestIndicationList,
    .DslSessionControl =  SessionControlList
};

const Dcm_ConfigType DCM_Config = {
    .Dsp =  &Dsp,
    .Dsd =  &Dsd,
    .Dsl =  &Dsl
};

